{
  "version": 3,
  "sources": ["../src/FinancialPlugin.js"],
  "sourcesContent": ["export default (financialStartMonth=4) => {\n  const zeroBasedMonth = financialStartMonth - 1;\n\n  return (option, dayjsClass, dayjsFactory) => {\n    dayjsClass.prototype.financialQuarter = function () {\n      const quarter = Math.floor((this.month() / 3) - (zeroBasedMonth / 3)) + 1;\n      return quarter > 0 ? quarter : 4;\n    };\n\n    dayjsClass.prototype.financialYear = function () {\n      const quarter = this.financialQuarter();\n      return quarter === 4 ? this.year() - 1 : this.year();\n    };\n\n    dayjsClass.prototype.financialMonth = function () {\n      const currentMonth = this.month() + 1;\n      const offset = currentMonth - financialStartMonth;\n      return offset < 0 ? 13 + offset : offset + 1;\n    };\n\n    const oldStartOf = dayjsClass.prototype.startOf;\n    dayjsClass.prototype.startOf = function (units, startOf) {\n      if (units === \"financialYear\") {\n        const subMonth = (this.financialQuarter() - 1) * 3;\n        return oldStartOf.bind(this.subtract(subMonth, \"month\").month(zeroBasedMonth))(\"month\");\n      }\n\n      if (units === \"financialQuarter\") {\n        const relativeMonth = (12 + (this.month() - zeroBasedMonth)) % 12;\n        const left = Math.round(relativeMonth % 3);\n\n        return this.subtract(left, \"month\").startOf(\"month\");\n      }\n\n      return oldStartOf.bind(this)(units, startOf);\n    };\n\n    const oldEndOf = dayjsClass.prototype.endOf;\n    dayjsClass.prototype.endOf = function (units, endOf) {\n      if (units === \"financialYear\") {\n        let start;\n        if (this.financialQuarter() === 4) {\n          start = oldStartOf.bind(this)(\"year\").subtract(1, \"year\").month(zeroBasedMonth);\n        }\n        start = oldStartOf.bind(this)(\"year\").month(zeroBasedMonth);\n        return start.add(11, \"month\").endOf(\"month\");\n      }\n      if (units === \"financialQuarter\") {\n        return this.startOf(\"financialQuarter\").add(2, \"month\").endOf(\"month\");\n      }\n      return oldEndOf.bind(this)(units, endOf);\n    };\n\n\n    const oldisSame = dayjsClass.prototype.isSame;\n    dayjsClass.prototype.isSame = function (date, units) {\n\n      if (units === \"financialYear\") {\n        const originalYear = this.financialYear()\n        const compareYear = dayjsFactory(date).year();\n        return originalYear === compareYear;\n      }\n\n      if (units === \"financialQuarter\") {\n        const originalQuarter = this.financialQuarter();\n        const compareQuarter = dayjsFactory(date).financialQuarter();\n        return originalQuarter === compareQuarter;\n      }\n\n      return oldisSame.bind(this)(date, units);\n    }\n  };\n}\n\n\n"],
  "mappings": "yaAAA,qDAAO,GAAQ,CAAC,EAAoB,IAAM,CACxC,KAAM,GAAiB,EAAsB,EAE7C,MAAO,CAAC,EAAQ,EAAY,IAAiB,CAC3C,EAAW,UAAU,iBAAmB,UAAY,CAClD,KAAM,GAAU,KAAK,MAAO,KAAK,MAAM,EAAI,EAAM,EAAiB,CAAE,EAAI,EACxE,MAAO,GAAU,EAAI,EAAU,CACjC,EAEA,EAAW,UAAU,cAAgB,UAAY,CAE/C,MAAO,AADS,MAAK,iBAAiB,IACnB,EAAI,KAAK,KAAK,EAAI,EAAI,KAAK,KAAK,CACrD,EAEA,EAAW,UAAU,eAAiB,UAAY,CAEhD,KAAM,GAAS,AADM,KAAK,MAAM,EAAI,EACN,EAC9B,MAAO,GAAS,EAAI,GAAK,EAAS,EAAS,CAC7C,EAEA,KAAM,GAAa,EAAW,UAAU,QACxC,EAAW,UAAU,QAAU,SAAU,EAAO,EAAS,CACvD,GAAI,IAAU,gBAAiB,CAC7B,KAAM,GAAY,MAAK,iBAAiB,EAAI,GAAK,EACjD,MAAO,GAAW,KAAK,KAAK,SAAS,EAAU,OAAO,EAAE,MAAM,CAAc,CAAC,EAAE,OAAO,CACxF,CAEA,GAAI,IAAU,mBAAoB,CAChC,KAAM,GAAiB,IAAM,MAAK,MAAM,EAAI,IAAmB,GACzD,EAAO,KAAK,MAAM,EAAgB,CAAC,EAEzC,MAAO,MAAK,SAAS,EAAM,OAAO,EAAE,QAAQ,OAAO,CACrD,CAEA,MAAO,GAAW,KAAK,IAAI,EAAE,EAAO,CAAO,CAC7C,EAEA,KAAM,GAAW,EAAW,UAAU,MACtC,EAAW,UAAU,MAAQ,SAAU,EAAO,EAAO,CACnD,GAAI,IAAU,gBAAiB,CAC7B,GAAI,GACJ,MAAI,MAAK,iBAAiB,IAAM,GAC9B,GAAQ,EAAW,KAAK,IAAI,EAAE,MAAM,EAAE,SAAS,EAAG,MAAM,EAAE,MAAM,CAAc,GAEhF,EAAQ,EAAW,KAAK,IAAI,EAAE,MAAM,EAAE,MAAM,CAAc,EACnD,EAAM,IAAI,GAAI,OAAO,EAAE,MAAM,OAAO,CAC7C,CACA,MAAI,KAAU,mBACL,KAAK,QAAQ,kBAAkB,EAAE,IAAI,EAAG,OAAO,EAAE,MAAM,OAAO,EAEhE,EAAS,KAAK,IAAI,EAAE,EAAO,CAAK,CACzC,EAGA,KAAM,GAAY,EAAW,UAAU,OACvC,EAAW,UAAU,OAAS,SAAU,EAAM,EAAO,CAEnD,GAAI,IAAU,gBAAiB,CAC7B,KAAM,GAAe,KAAK,cAAc,EAClC,EAAc,EAAa,CAAI,EAAE,KAAK,EAC5C,MAAO,KAAiB,CAC1B,CAEA,GAAI,IAAU,mBAAoB,CAChC,KAAM,GAAkB,KAAK,iBAAiB,EACxC,EAAiB,EAAa,CAAI,EAAE,iBAAiB,EAC3D,MAAO,KAAoB,CAC7B,CAEA,MAAO,GAAU,KAAK,IAAI,EAAE,EAAM,CAAK,CACzC,CACF,CACF",
  "names": []
}
